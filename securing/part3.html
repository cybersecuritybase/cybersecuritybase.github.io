<!-- BEGIN HEADER -->
<!DOCTYPE html>
<html>
  <head>
    <title>Cyber Security Base with F-Secure</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Twitter Bootstrap -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link rel="stylesheet" href="/assets/css/mooc-icon/style.css"/>
    <link rel="stylesheet" href="/assets/css/csa.css"/>
    <link rel="stylesheet" href="/assets/css/csa-mooc.css"/>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/xcode.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>

    <!-- BEGIN NAV -->
    <header role="navigation">
      <h1>
        <a href="http://mooc.fi" alt="MOOC" target="_blank">
          <span class="icon-mooc"></span>
        </a>

        <button type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </h1>

      <nav class="collapse bs-navbar-collapse" role="navigation">
        <ul>
          <li>
            <a href="#" class="table-of-contents-trigger">
              Table of contents
            </a>
          </li>
          <li>
            <a href="index.html">Part I</a>
          </li>
          <li>
            <a href="part2.html">Part II</a>
          </li>
          <li>
            <a href="part3.html">Part III</a>
          </li>
          <li>
            <a href="part4.html">Part IV</a>
          </li>
          <li>
            <a href="part5.html">Part V</a>
          </li>
        </ul>
        <ul class="pull-right">
          <li>
            <a href="#" class="navbar-link--highlighted login-trigger">
              Log in
            </a>
          </li>
        </ul>

      </nav>
    </header>
    <!-- // END NAV -->

    <article>
      <!-- END HEADER -->

      <!-- BEGIN CONTENT -->
      <section class="no-toc weeklimit hidden" data-week-id="0">

        <h1>Assignments</h1>

        <ul class="nav nav-pills nav-pills-fixed-width nav-pills--no-border" id="assignments-toc"></ul>

      </section>
      <!-- END CONTENT -->



      <section class="weeklimit" data-week-id="4">

        <aside class="warning">
            <br />
            <h1>How to pass the course</h1>
            <p>Securing software is a course consisting of six parts (which are released weekly). In order to pass the course you'll need to complete and pass 85% of the quizzes and essays, and 85% of the programming assignments. In order to pass an essay you must also do <i>all</i> the peer reviews we offer for it (usually it is 3 peer reviews).
            </p>
            <p>
            Essays must be within 20% of the proposed length. If they're not within this limit you will not get any points for your answer.
            We also may reject your answer if it's flagged too many times as spam or if it doesn't contain deep enough discussion. Also, we may reject your peer reviews if you haven't put genuine effort into them. All essays must be written in english. Other languages are not acceptable.</p>

            <p>If you want ECTS credits you will need to register here AFTER completing the course:
                <b>To be announced on 18.12.2017.</b> This applies to everyone wanting the credits, there is no other registration. This is not the same registration as the registration for the introduction credits. Join the mailing list for updates!
            </p>

            <p>
                Also check out the Frequently asked questions:
                <a href="http://mooc.fi/courses/2017/cybersecurity/faq.html">http://mooc.fi/courses/2017/cybersecurity/faq.html</a>.
            </p>
        </aside>




	<header class="hidden">
	  <h1>Most Common Security Vulnerabilities</h1>
	</header>

	<h1>Most Common Security Vulnerabilities</h1>

	<p>This part of the course is devoted to the discovery and reporting of security vulnerabilities in web applications. The focus is on the most critical web application security risks as reported by OWASP.</p>


	<aside class="info">
	  <br/>

	  <h1>Open Web Application Security Project (OWASP)</h1>

	  <p>The <a href="https://www.owasp.org/index.php/Main_Page" target="_blank">Open Web Application Security Project</a> is a not-for-profit organization that focuses on disseminating knowledge on software security. They help organize <a href="https://owasp.org/index.php/OWASP_Events/upcoming_events" target="_blank">events</a> and maintain security related databases and lists.</p>

	  <p>One of the important lists that they maintain is the <a href="https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project" target="_blank">OWASP Top 10</a> which contains a list of the ten most critical web application security risks. The most recent list is from <a href="https://www.owasp.org/index.php/Top10#OWASP_Top_10_for_2013" target="_blank">2013</a>, and an updated list will be released either late 2016 or in 2017.</p>

	</aside>


	<p>In order to work on the assignments in this part of the course, you need to download the <a href="https://github.com/WebGoat/WebGoat" target="_blank">WebGoat Lesson server</a>. The latest stable build (at the time of the writing of this material) is the version 7.0.1, which can be downloaded at <a href="https://s3.amazonaws.com/webgoat-war/webgoat-container-7.0.1-war-exec.jar" target="_blank">https://s3.amazonaws.com/webgoat-war/webgoat-container-7.0.1-war-exec.jar</a>.</p>

	<p>Once you have downloaded WebGoat, it can be started from the command line using the command:</p>

<pre>
java -jar webgoat-container-7.0.1-war-exec.jar -httpPort 8081</pre>

	<p>This launches the WebGoat server on the port 8081. Once the server has been started, the application can be accessed at <code>http://localhost:8081/WebGoat</code>.</p>

	<p>In this part, the assignments are done within the WebGoat server and reported in the questionnaires in this material. The goal is to practice the discovery of vulnerabilities as well as reporting them on a level that others can replicate the found vulnerability. The level of detail for the reporting should be as follows (you can assume that the user is logged in to WebGoat as a guest):</p>

	<pre>Issue: SQL Injection
Steps to reproduce:
1. Open Injection Flaws
2. Select Numeric SQL Injection
3. Open Developer Console
4. Inspect the Weather Station Element
5. In the Developer Console, find the select element that
   lists the weather stations.
6. Edit one of the option elements within the select element and
   change the option value to "101 OR station < 9999999".
7. Select the altered option from the dropdown list on the page
8. Press Go!
9. You can now see all weather the weather data.</pre>

<p>In addition to reporting issues, you are expected to review the issue reports from others. Try following them step by step and see if you can reproduce the security issues that others have found. If you are unable to reproduce an issue by following the steps in the report, indicate the specific step that caused you to fail to reproduce the issue and why. If, on the other hand, you are able to reproduce the issue, thank them for the report.</p>



	<h2>Injection</h2>

	<p>Injection vulnerabilities make it possible for the user (or the application) to send data to the web application that is then interpreted by the web application or one of its components although is should not be. A common example of such a vulnerability is the SQL injection, where query parameters or other unsanitized data are used as a part of a SQL query.</p>


	<figure>
	  <img src="https://imgs.xkcd.com/comics/exploits_of_a_mom.png" />
	  <figcaption>(source <a href="https://xkcd.com/327/" target="_blank">xkcd: Exploits of a mom.</a>)</figcaption>
	</figure>


	<div class="quiznator-plugin" data-quiz-id="5a134e6a69f1a32511b30dec"></div>

	<div class="quiznator-plugin" data-quiz-id="5a134ed269f1a32511b30dee"></div>

    <div class="quiznator-plugin" data-quiz-id="5a134ef969f1a32511b30df0"></div>

    <div class="quiznator-plugin" data-quiz-id="5a134f1b69f1a32511b30df1"></div>

	<p>Whilst SQL injections are perhaps the most common examples of Injection vulnerabilities (see e.g. <a href="http://rails-sqli.org/" target="_blank">Ruby on Rails</a> and <a href="https://pivotal.io/security/cve-2016-6652" target="_blank">Spring Data JPA</a>), other types of injections also exist. It can be, for example, possible to execute code on the application server (see e.g. <a href="http://ronin-ruby.github.io/blog/2013/01/09/rails-pocs.html" target="_blank">Ruby on Rails</a> and <a href="https://jira.spring.io/browse/SPR-5308" target="_blank">Spring</a>).</p>


	<h2>Broken Authentication and Session Management</h2>

	<p>Broken Authentication and Session Management vulnerabilities allow users to impersonate other users. This may happen, for example, through poor session management (session hijacking), through very poor passwords, or through storing the users' passwords in plain-text format (or in an easily decryptable format) and accidentally leaking the data. If the user uses the same password in multiple locations, it is also possible that the data from some other web application is leaked, and a malicious user is able to connect the username and password of another web application to this application.</p>


	<h2>Cross-site Scripting</h2>

	<p>Cross-site scripting (XSS) vulnerabilities make it possible for the user to include malicious content to a site that will then be executed on the machine of another user. The malicious content may be permanently stored on the web application (e.g. in a database if the input and output is not sanitized), or it may be included temporarily (e.g. as a part of a query parameter).</p>

	<p>Such attacks make it possible to -- among other things -- hijack users' sessions and as a consequence impersonate another user. For example, the cookies that are related to the current document may be accessible through the variable <code>document.cookie</code>, and sent to the server of a malicious user through a simple XMLHttpRequest.</p>

	<pre><code class="html">&lt;script&gt;alert(document.cookie);&lt;/script&gt;</code></pre>

	<p>There exists a handful of (incomplete) solutions that are used to filter out possible XSS attacks, including removing brackets from the code. OWASP has a good <a href="https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet" target="_blank">checklist</a> that can be used for XSS testing.</p>


	<div class="quiznator-plugin" data-quiz-id="5a134f7f69f1a32511b30df2"></div>

	<div class="quiznator-plugin" data-quiz-id="5a134fd369f1a32511b30df3"></div>

    <div class="quiznator-plugin" data-quiz-id="5a134fec69f1a32511b30df4"></div>

    <div class="quiznator-plugin" data-quiz-id="5a13500669f1a32511b30df5"></div>



	<h2>Insecure Direct Object Reference</h2>

	<p>Insecure Direct Object Reference vulnerability makes it possible to access resources on the server that should not be available to the user. As an example, the web application may store user specific data that is available through a query parameter or a path variable. If the user modifies the variable, access can be gained to resources that should not be accessible.</p>

	<p>The next assignment is done within Test My Code.</p>

        <div class="assignments">
          <div class="assignment">
            <header>
              <h1 class="panel-title">
                <a data-toggle="collapse" class="collapsed" href="#t-megaupload">
                  Megaupload (Click to Open!)
                </a>
              </h1>
            </header>
            <div id="t-megaupload" class="collapse">

	      <p>The assignment template contains the functionality for uploading and storing personal files on a web server. The files uploaded by an individual should not be accessible by anyone else. However, there seems to be a few flaws in how this has been implemented. Fix the application so that everyone can access only the files that they have uploaded.</p>

	      <p>The application has the following username and password combinations for testing:</p>

	      <ul>
		<li>roger:carrots</li>
		<li>valiant:vaudeville</li>
	      </ul>

	      <p>Note that the application has no automated tests. Once you believe that you have solved the issue(s), return your solution to TMC.</p>

            </div>
          </div>
        </div>


	<h2>Security Misconfiguration</h2>

	<p>Security misconfiguration includes a wide range of issues from poorly configured servers and outdated software libraries to not changing default passwords. Such misconfigurations can reside both within the application as well as outside the application. Questions such as 'who has access to the server where the web application is running?', 'who has access to the server where the database or other components are running?', 'are the software components and libraries as well as the operating systems up to date?', 'are the used passwords high quality?' and so on.</p>

	<p>As an example, one of the <a href="https://www.theguardian.com/technology/2016/oct/26/ddos-attack-dyn-mirai-botnet" target="_blank">recent Denial of Service attacks</a> was partially made possible by thousands of internet of things devices with default passwords (or poor passwords).</p>

	<p>As software is often developed for third parties who become responsible for maintaining the software, fixing the issues is not straightforward. If a flaw is identified in the platform that is used to host the software, is it the task of the original developer(s) to provide support? For free, or at what cost? The customer may not be able to distinguish between the product and the platform and may not understand the responsibilities related to managing software.</p>

	<aside class="info">
	  <br/>
	  <h1>The server sec-mooc-1.cs.helsinki.fi</h1>

	  <p>Once a server is put online, it will also start receiving requests that are not related to the services that it officially offers. For example, SSH login attempts have been made to the server at <code>sec-mooc-1.cs.helsinki.fi</code> from hundreds of separate IP addresses. Many of the attempts are repetitive and use brute-force scripts for guessing possible passwords for the server.</p>

	  <p>If the server would use a very poor password or one that exists in existing password lists on the internet (see e.g. <a href="https://github.com/danielmiessler/SecLists/tree/master/Passwords" target="_blank">https://github.com/danielmiessler/SecLists/tree/master/Passwords</a>), it is likely that the server would have already been cracked.</p>
	</aside>



	<h2>Sensitive Data Exposure</h2>

	<p>Sensitive Data Exposure is a vulnerability that is related to not properly protecting sensitive user data such as credit card information, social security numbers etc. Access to such information may lead to credit card fraud, identity theft, etc. This risk is related to many of the other vulnerabilities in that other vulnerabilities may allow leaking of such data; at the same time, if a data leak occurs, risks should be minimized. For example, passwords should be salted etc.</p>

	<aside class="info">
	  <br/>
	  <h1>Have I been Pwned?</h1>

	  <p>It is common that a user does not know that his or her account has been compromised. The site <a href="https://haveibeenpwned.com/" target="_blank">https://haveibeenpwned.com/</a> provides a database that can be used to search for leaked usernames and email addresses in <a href="https://haveibeenpwned.com/PwnedWebsites" target="_blank">various data breaches</a>, and to see if passwords have been associated with them.</p>

	  <p>Here, your task is to see if your username or email has been compromised. If so, it might make sense to consider changing your passwords.</p>

	</aside>


	<h2>Missing Function Level Access Control</h2>

	<p>Missing Function Level Access Control vulnerability means that the application has one or more functionalities that should require authentication but do not. It may be the case that the application checks that the user is authenticated, but may fail to verify that the user has the required credentials for the action that he or she seeks to take.</p>

	<div class="quiznator-plugin" data-quiz-id="5a15616ac52fcf0004899558"></div>

	<div class="quiznator-plugin" data-quiz-id="5a1350ad69f1a32511b30df7"></div>

    <div class="quiznator-plugin" data-quiz-id="5a1350cd69f1a32511b30df8"></div>

    <div class="quiznator-plugin" data-quiz-id="5a1350e269f1a32511b30df9"></div>



	<h2>Cross-site Request Forgery</h2>

	<p>Cross-site Request Forgery (CRSF) makes it possible to create requests from another site (source) to the web application (target). If the user who is accessing the source site is authenticated to the target web application, the browser of the user will send an authentication token (e.g. cookie) with the request to the target application as the user is accessing the source site, making it possible to access data as an authenticated user that should not be accessible.</p>

	<div class="quiznator-plugin" data-quiz-id="5a13512e69f1a32511b30dfa"></div>

	<div class="quiznator-plugin" data-quiz-id="5a13519669f1a32511b30dfb"></div>

	<div class="quiznator-plugin" data-quiz-id="5a1351c4fce7304406a11210"></div>

    <div class="quiznator-plugin" data-quiz-id="5a1351defce7304406a11211"></div>


	<h2>Using Components with Known Vulnerabilities</h2>


	<p>Using Components with Known Vulnerabilities is typically related to unmaintained software. As software is built upon existing libraries and vulnerabilities are constantly identified and fixed, it is important to keep track and maintain the software libraries in use. This is an issue that is not limited to web frameworks, but also to the underlying software components including the operating system (see e.g. <a href="http://thehackernews.com/2016/10/linux-kernel-exploit.html" target="_blank">The Dirty COW</a>).</p>

	<p>Most dependency management tools have plugins that can analyze the used dependencies and identify components with vulnerabilities. For example, the <a href="https://jeremylong.github.io/DependencyCheck/dependency-check-maven/index.html" target="_blank">Dependency-Check</a> Maven plugin can be used to determine whether the current project utilizes faulty components.</p>

	<p>The Dependency-Check plugin can be taken into use by including the following statement to the project pom.xml:</p>

<pre><code class="xml">...
&lt;plugins&gt;
  ...
  &lt;plugin&gt;
    &lt;groupId&gt;org.owasp&lt;/groupId&gt;
    &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;
    &lt;version&gt;1.4.4&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;goals&gt;
          &lt;goal&gt;check&lt;/goal&gt;
        &lt;/goals&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;
  ...
&lt;/plugins&gt;
...</code></pre>

	<p>Once included, the project can be analyzed by running the command <code>mvn dependency-check:check</code> from the command line. Note that the version 1.4.4 assumes that the Maven version is at least 3.1, whilst older versions (Maven 3.0) can be used with 1.4.2.</p>


	<p>The next assignment is partially done within Test My Code and partially within the following questionnaire.</p>

        <div class="assignments">
          <div class="assignment">
            <header>
              <h1 class="panel-title">
                <a data-toggle="collapse" class="collapsed" href="#t-oldies">
                  Oldies but goodies (Click to Open!)
                </a>
              </h1>
            </header>
            <div id="t-oldies" class="collapse">

	      <p>The assignment template contains a simple Spring Framework application that uses a version of Spring released in December 2009. You can launch the application from command line using the command <code>mvn jetty:run</code>, which launches server.</p>

	      <p>Run the Maven Dependency Check plugin on the application to identify the types of security vulnerabilities in the software. When the plugin reports vulnerabilities, e.g. <code>CVE-2014-1904</code>, you can find their many of their descriptions using the Common Vulnerabilities and Exposures database at <a href="https://cve.mitre.org/index.html" target="_blank">https://cve.mitre.org/index.html</a>.</p>

	      <p>Once you have identified the vulnerabilities, answer the questionnaire that follows this assignment -- the assignment template has no tests and can be submitted to server.</p>

            </div>
          </div>
        </div>


	<div class="quiznator-plugin" data-quiz-id="5a135230fce7304406a11212"></div>


	<h2>Unvalidated Redirects and Forwards</h2>

	<p>Unvalidated Redirects and Forwards may cause the web application to redirect the user to an unwanted location. This may happen, for example, if the address to which the user is forwarded after an action can be tampered with. For further information, see the <a href="https://www.owasp.org/index.php/Unvalidated_Redirects_and_Forwards_Cheat_Sheet" target="_blank">OWASP Cheat sheet</a>.</p>

	<aside class="info">
	  <br/>
	  <h1>Incident Databases</h1>

	  <p>Knowing the top 10 most critical web application security issues is a good start. However, new security flaws are constantly discovered, and a security professional needs to keep up with the development of the field. Incident databases such as <a href="https://cve.mitre.org/" target="_blank">Common Vulnerabilities and Exposures</a> and <a href="https://fusiontables.google.com/DataSource?snapid=S283929Jw2s" target="_blank">https://fusiontables.google.com/DataSource?snapid=S283929Jw2s</a> that is maintained by OWASP and <a href="http://www.webappsec.org/" target="_blank">Web Application Security Consortium</a> are crucial for keeping up with the latest developments of the field.</p>

	  <p>It is important to also follow the relevant mailing lists. For example, Ruby on Rails has a public mailing list at <a href="https://groups.google.com/forum/#!forum/rubyonrails-security" target="_blank">https://groups.google.com/forum/#!forum/rubyonrails-security</a>. </p>

	</aside>


	<p>In this this part of the securing software course, we looked at the most common web security issues. During the next part, we will look a bit deeper into finding flaws in software.</p>

      </section>



    </article>


    <!-- LOGIN MODAL -->
    <div class="modal fade" id="tmc-login-modal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Log into your TestMyCode account</h4>
          </div>
          <div class="modal-body">
            <div class="alert alert-info">
              Don't have a TestMyCode account? <a href="https://tmc.mooc.fi/user/new" target="_blank">Sign up</a>.
            </div>

            <div class="alert alert-danger" id="tmc-login-error" style="display: none">
            </div>

            <div class="form-group">
              <label>Username</label>
              <input type="text" id="tmc-login-username" class="form-control" placeholder="Username"/>
            </div>

            <div class="form-group">
              <label>Password</label>
              <input type="password" id="tmc-login-password" class="form-control" placeholder="Password"/>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="tmc-login-submit">Log in</button>
          </div>
        </div>
      </div>
    </div>

    <!-- TABLE OF CONTENTS -->
    <div class="table-of-contents-layer">
    </div>

    <div class="table-of-contents">
      <h1 class="table-of-contents__heading">
        Table of contents
      </h1>

      <div class="table-of-contents__content">
        <ul class="nav" id="material-toc"></ul>
      </div>
    </div>

    <!-- PROGRESS -->
    <div class="content-progress">
      <div class="content-progress__label">
      </div>

      <div class="content-progress__bar">
      </div>
    </div>

    <!-- QUIZNATOR DASHBOARD -->
    <div class="quiznator-dashboard"></div>

    <!-- BROWSER SUPPORT WARNING -->
    <div class="browser-support-warning">
      Some parts of this page might not work on your current browser. Consider switching to either <a href="https://www.google.com/chrome/browser/desktop/" target="_blank">Chrome</a> or <a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">Firefox</a>.
      <a class="pull-right browser-support-warning__close">Got it!</a>
    </div>

    <script src="https://quiznator.herokuapp.com/javascripts/plugin-loader.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.1.1.min.js"
	    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
	    crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <script src="/assets/js/tmc-client-js/dist/tmc-client.min.js"></script>
    <script src="/assets/js/csa.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-86250620-1', 'auto');
      ga('require', 'linkid');
      ga('send', 'pageview');

      var trackOutbound = function(url) {
        ga('send', 'event', 'outbound', 'click', url, {
         'transport': 'beacon',
         'hitCallback': function(){ window.open(url); }
        });
      }
    </script>

    <!-- COOKIES -->
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.1/cookieconsent.min.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.1/cookieconsent.min.js"></script>
    <script>window.cookieconsent.initialise({"palette":{"popup":{"background":"#000"},"button":{"background":"#f1d600"}}});</script>
  </body>
</html>
